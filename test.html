<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yazar Göçer</title>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/html2canvas.js"></script>
    <link rel="stylesheet" type="text/css" href="css/test-css.css">

</head>
<body>
<div class="main-wrapper">
    <div class="position-div">
        <div class="left-side-div">
            <div class="background-picker">
                <span>Arka Renk</span>
                <span><input name="background-color" value="red" type="radio">Kırmızı</span>
                <span><input name="background-color" value="green" type="radio">Yeşil</span>
                <span><input name="background-color" value="yellow" type="radio">Sarı</span>
                <span><input name="background-color" value="blue" type="radio">Mavi</span>
                <span><input name="background-color" value="black" type="radio">Siyah</span>
                <span><input name="background-color" value="grey" type="radio">Gri</span>
                <span><input name="background-color" value="white" type="radio" checked="checked">Beyaz</span>
            </div>
        </div>
        <div class="right-side-div">
            <div class="top-right-side">
            <span class="font-size-picker">
                <span>Yazı Rengi: </span>
                <span><input name="font-color" type="radio" checked="checked">Siyah</span>
                <span><input name="font-color" type="radio">Beyaz</span>
            </span>
            <span class="font-color-picker">
                <span>Boyut:  <input id="font-chooser" type="number" min="4" max="32" value="14" onchange="setFont()">px</span>
            </span>
            </div>
            <div class="mid-right-side">
                <div>Salata başlığı</div>
                <textarea id="text" onkeyup="toDiv()"></textarea>
            </div>
            <div class="bottom-right-side">
                <button id="btnSave">Resme dönüştür</button>
                <div id="imager-div"></div>
                <div id="converted-img"></div>
            </div>
        </div>
    </div>
</div>
<script>
    function toDiv(){
        var text = $("#text").val();
        text = text.replace(/\r?\n/g, '<br>');
        $('#imager-div').html(text);
    }

    function setFont(){
        var fontValue = $('#font-chooser').val();
        $('#imager-div').css({'font-size':fontValue+'px','line-height':fontValue+'px'});
    }

    $(function() {
        $("#btnSave").click(function() {
            html2canvas($("#imager-div"), {
                onrendered: function(canvas) {

                    $('canvas').remove();

                    document.getElementById('converted-img').appendChild(canvas);

                }
            });
        });
    });

</script>
</body>
</html>